<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>

<body>
	<h1>Виселица!</h1>
	<script>
		//	Массив слов
		let words = [
			"программа",
			"макака",
			"прекрасный",
			"оладушек",
			"веселый",
			"паприка",
			"фиолетовый",
			"капуста"
		];
		alert(
			"Добро пожаловать в игру Виселица, сейчас будет загаданно слово, и вы должны будете угадать его, за каждый ход вы можете угадать только одну букву. Пгнали!"
		);
		//	Выбор случайного слова
		let word = words[Math.floor(Math.random() * words.length)];
		// Создание итогового массива
		let answerArray = [];
		for (let i = 0; i < word.length; i++) {
			answerArray[i] = "_";
		}
		// *********************************
		let remainingLetters = word.length;
		let tryCount = 0;
		while (remainingLetters > 0 && tryCount !== 12) {
			//	Показываем состояние игры

			//	Запрос варианта ответа
			let guess = prompt("Угадайте букву либо нажмите отмена для выхода из игры.").toLowerCase();
			if (guess === null) {
				break;
			} else if (guess.length !== 1) {
				//	Проверка на введеное кол-во букв
				alert("Пожалуйста, введите только одну букву.");
			} else {
				//	Обновление состояния игры
				for (let j = 0; j < word.length; j++) {
					if (word[j] === guess && answerArray[j] === "_") {
						answerArray[j] = guess;
						remainingLetters--;
					}
				}
			}
			tryCount++;
		}
		if (tryCount === 12) {
			alert("К сожалению вы не смогли отгадать загаданное слово за определенное количество попыток");
		} else {
			alert(answerArray.join(" "));
			alert("Отлично! Было загадано слово _" + word + "_");
		}
	</script>
</body>

</html>